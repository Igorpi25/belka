type Project
  @model
  @auth(rules: [
    { allow: owner },
    { allow: owner, ownerField: "team" },
    # { allow: owner, ownerField: "freelancers", operations: [create] }
    # {allow: groups, groups: ["Managers"], queries: null, mutations: [create, update, delete]},
    # {allow: groups, groups: ["Employees"], queries: [get, list], mutations: null}
  ])
{
  id: ID!
  owner: String
  team: [String]
  managers: [String]
  accauntants: [String]
  warehousemans: [String]
  freelancers: [String]
  name: String!
  description: String
  client: String
  status: ProjectStatus
  spec: Spec @connection
  createdAt: String
	updatedAt: String
}

enum ProjectStatus {
  CREATED
  IN_PROGRESS
  CLOSED
  DELETED
  ARCHIVED
}

type Spec
  @model
  @auth(rules: [
    { allow: owner },
    { allow: owner, ownerField: "team" },
  ])
{
  id: ID!
  owner: String
  team: [String]
  waybills: [Waybill] @connection(name: "SpecWaybills")
}

type Waybill
  @model
  @auth(rules: [
    { allow: owner },
    { allow: owner, ownerField: "team" },
  ])
{
  id: ID!
  owner: String
  team: [String]
  number: String
  description: String
  contractor: String
  purchaseDate: String
  deliveryDate: String
  spec: Spec @connection(name: "SpecWaybills")
  products: [Product] @connection(name: "WaybillProducts")
  status: WaybillStatus
  createdAt: String
	updatedAt: String
}

enum WaybillStatus {
  CREATED
  DELETED
  ARCHIVED
}

type Product
  @model
  @auth(rules: [
    { allow: owner },
    { allow: owner, ownerField: "team" },
  ])
{
  id: ID!
  owner: String
  team: [String]
  article: String
  name: String
  count: ProductCount
  price: ProductPrice
  store: ProductStore
  additional: ProductAdditional
  status: ProductStatus
  waybill: Waybill @connection(name: "WaybillProducts")
  createdAt: String
	updatedAt: String
}

enum ProductStatus {
  CREATED
  DELETED
  ARCHIVED
}

type ProductCount {
  count: Float
}

type ProductPrice {
  purchasePrice: Float
  price: Float
  amount: Float
}

type ProductStore {
  net: Float
  gross: Float
  size: ProductSize
}

type ProductSize {
  w: Float
  l: Float
  h: Float
}

type ProductAdditional {
  images: [String]
  description: String
}